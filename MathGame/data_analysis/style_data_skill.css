:root{
  --bg:#0f172a; --panel:#0b1220; --b:#1f2937; --fg:#e5e7eb; --muted:#a3b2c7;
  --shadow:0 16px 40px rgba(2,6,23,.35);
  --good:#22c55e; --acc:#22d3ee;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1000px 700px at 20% -10%,rgba(56,189,248,.15),transparent),
    radial-gradient(900px 600px at 90% 110%,rgba(167,139,250,.18),transparent),
    var(--bg);
  color:var(--fg);
  font-family:"Cairo",system-ui,Segoe UI,Arial;
}

.wrap{max-width:1100px;margin:24px auto;padding:16px}
.topbar{display:flex;justify-content:space-between;gap:12px;align-items:center;margin-bottom:10px}
.brand h1{margin:0;font-weight:900;font-size:24px}

.actions{display:flex;gap:8px;align-items:center}
.btn{
  border:1px solid var(--b);
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));
  color:var(--fg); padding:10px 14px; border-radius:14px; font-weight:800; cursor:pointer;
  text-decoration:none; display:inline-block;
}
.btn:hover{filter:brightness(1.08)}
.btn.acc{border-color:#0891b2; box-shadow:0 0 12px rgba(8,145,178,.35)}
.btn.back{border-color:#f59e0b; box-shadow:0 0 12px rgba(245,158,11,.3)}

.stage{
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0));
  border:1px solid var(--b); border-radius:20px; box-shadow:var(--shadow);
  padding:18px; min-height:560px; display:grid; grid-template-rows:auto auto 1fr auto; gap:16px; overflow:hidden
}

.row{display:flex;justify-content:center;align-items:center}
.hint{color:var(--muted);font-weight:700;text-align:center}

.characters{min-height:240px;display:flex;justify-content:center;align-items:center;gap:16px;flex-wrap:wrap}

.char{
  width:180px; height:160px; border-radius:32px; padding:8px;
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.04));
  border:1px solid var(--b);
  box-shadow:0 12px 34px rgba(0,0,0,.28); position:relative;
  display:flex; align-items:center; justify-content:center;
}
.char .num{
  font-family:"Cairo",system-ui,Segoe UI,Arial;
  font-weight:900; color:#fff;
  text-shadow:0 1px 0 rgba(0,0,0,.35),0 2px 0 rgba(0,0,0,.25),0 0 8px rgba(0,0,0,.25);
  font-size:84px;
}
.c1{background:linear-gradient(180deg,#1d4ed8,#1e293b)}
.c2{background:linear-gradient(180deg,#16a34a,#1e293b)}
.c3{background:linear-gradient(180deg,#f59e0b,#1e293b)}
.c4{background:linear-gradient(180deg,#9333ea,#1e293b)}
.c5{background:linear-gradient(180deg,#06b6d4,#1e293b)}

.results{border-top:1px dashed var(--b); padding-top:10px}
.hidden{display:none}
.grid{display:grid; grid-template-columns:1fr 1fr; gap:16px}
.table{
  width:100%; border-collapse:collapse; border:1px solid var(--b); font-weight:800
}
.table th,.table td{border:1px solid var(--b); padding:10px 12px; text-align:center}
.table th{background:rgba(255,255,255,.06)}
.table .val{color:#22d3ee}

.chart{display:flex; align-items:flex-end; gap:10px; padding:10px 6px; min-height:200px; border:1px solid var(--b); border-radius:12px}
.bar{width:60px; background:linear-gradient(180deg,#22d3ee,#0369a1); border-radius:10px 10px 0 0; position:relative; box-shadow:0 6px 16px rgba(0,0,0,.35)}
.bar .label{position:absolute; bottom:100%; left:50%; transform:translate(-50%,-6px); white-space:nowrap; font-weight:900}
.bar .emoji{position:absolute; top:-28px; left:50%; transform:translateX(-50%); font-size:24px}

.foot{display:flex; justify-content:center}
.pill{background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02)); border:1px solid var(--b); padding:8px 12px; border-radius:999px; font-weight:700}

@media (max-width:780px){
  .grid{grid-template-columns:1fr}
  .char{width:160px; height:140px}
  .bar{width:48px}
}
